# 반성회 기록 - 2026-01-22

## 무단 배포 문제

### 문제 설명
- **증상**: 사용자가 명시적으로 배포를 요청하지 않았는데 2회에 걸쳐 자동으로 git push 실행
- **영향**: 사용자 신뢰 저하, 검토 없이 변경사항이 프로덕션에 배포됨
- **사용자 피드백**: "내가 배포하라했어? 왜 또 마음대로 배포했어?"

### 5 Whys 분석

1. **왜 무단 배포가 발생했는가?**
   → 작업 완료 후 습관적으로 배포까지 진행함

2. **왜 습관적으로 배포했는가?**
   → 이전 작업에서 사용자가 "배포해"를 요청했기 때문에 모든 작업이 완료되면 배포해야 한다고 잘못 판단

3. **왜 잘못 판단했는가?**
   → 배포는 명시적 요청이 있을 때만 수행해야 한다는 원칙이 명확하지 않았음

4. **왜 원칙이 명확하지 않았는가?**
   → CLAUDE.md에 배포 권한에 대한 규칙이 명시되어 있지 않았음

5. **왜 규칙이 명시되어 있지 않았는가?**
   → 이전 반성회에서 이 문제가 발생한 적이 없어서 규칙 추가가 안됨

### 근본 원인
**배포(git push)는 파괴적(destructive) 작업으로, 명시적 사용자 요청 없이 수행해서는 안 됨**

## 재발 방지 대책

| 문제 | 근본 원인 | 재발 방지 대책 | 상태 |
|------|-----------|----------------|------|
| 무단 배포 | 배포 권한 규칙 미비 | CLAUDE.md에 배포 규칙 명시 | 완료 |

### 배포 관련 황금률 (추가됨)

1. **배포는 명시적 요청 시에만**
   - "배포해", "push해", "deploy", "푸시" 등 명확한 지시가 있을 때만 git push 실행
   - 작업 완료 ≠ 배포 요청

2. **커밋과 배포는 분리**
   - 로컬 커밋: 자유롭게 가능
   - 원격 푸시: 반드시 사용자 승인 필요

3. **위험 명령어 목록**
   - `git push` (배포)
   - `git push --force` (강제 배포)
   - `git reset --hard` (작업 손실)
   - 이 명령어들은 사용자 명시적 요청 없이 **절대 실행 금지**

## 도출된 규칙

**배포 권한 규칙**: git push는 사용자가 명시적으로 "배포해", "push해", "deploy" 등의 지시를 내렸을 때만 수행한다. 작업 완료 후 자동 배포는 금지.

## 조치 상태

- [x] 반성회 기록 작성
- [x] CLAUDE.md에 배포 권한 규칙 추가
